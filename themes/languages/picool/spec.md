Picool
======

名前
----

Picool

目的
----

ちょこっと、Haskellで気楽に実装できる言語を作りたい。

もとめられる特徴
----------------

* 純粋関数型
* 字句解析、構文解析が簡単
* Haskellの関数として実装できる
	+ picool :: String -> String
	+ もうすこし拡張してもいいかも
* 標準入力からソースコードを読み込める
* 結果は標準出力に出力
	+ 定義、定義、...、定義ときて最後に式がくる
	+ 最後の式の結果を出力
		- 結果は文字列(String)または正の整数値(Word64)
* Haskellで500行以下で実装できる
* FizzBuzzくらいはできる
* ワンライナーが書ける

もとめられない特徴
------------------

* 速度
* 効率
* 遅延評価、正格評価
	+ これらについて一貫性がなくていい
* 一般的な入出力
	+ 最後の結果を表示するのみ

上記のどちらとするか決めていない特徴
------------------------------------

* 入力
	+ 標準入力は使いたいかな
	+ コマンドライン引数くらいは取ってもいいかも
	+ ファイルからの入力はできてもいいかな

仕様
----

### 字句解析について

* 空白文字、タブ文字、改行はトークンをわける
	+ これらは複数並んでいても、ひとつのときとおなじように解釈される

#### トークン

* 文字列
	+ \`"'ではじまって\`"'でおわる
	+ \`"'は含まない
	+ 改行文字をどうするかは考え中
		- 整数から文字に変換するとか?
* 正の整数
	+ 0から9までの数字
	+ 先頭に0が決ても意味は変わらない
* シンボル
* 束縛を示す\`='
* まとまりを示す\`('と\`)'
* ラムダ式に使われる\`\\'と\`->'

### 構文解析について

* 単純な再帰下降型の構文解析器で解析できるようにする

### 再帰的定義について

* 考え中

コード例
--------

sample1.pc

```haskell:sample1.pc
"Hello, world!"
```

sample2.pc

```haskell:sample2.pc
foo = \x y -> x

foo 123
```

その他
------

* めんどくさくなってきたので、やめるかも
* また、やるかもしれないので、いちおうこの文書は保存しておく
