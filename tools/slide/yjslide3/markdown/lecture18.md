第18回 IOモナド
===============

はじめに
--------

多くの言語では以下のような形で入出力を扱う。

* 関数が「評価」されるタイミングで入出力を行い
* 関数の返り値として入力を返す

関数の返り値として入力を返すと参照透過性が破壊される
(参照透過性とは引数が同じならば関数の返り値が常に同じになるということ)。
「評価」のタイミングで入出力を行うと、
「評価」の順がプログラムの意味に影響を与えてしまう。

どうすればいいのだろう?

* 入出力を行う機械という値を作れば良い
* 数値型は対話環境で評価するとその値を表示する
* 文字型も対話環境で評価するとその値を表示する
* 機械型は対話環境で評価するとその動作を行う

機械型を数値型と同じように基本的な型として用意すれば良い。

Machine
-------

### HelloWorld

### 入力の処理

### 処理の破綻

IOMcn
-----

### 型の不一致

### いろいろな機械の型

### 正当なつなぎかた

### 正しくないつなぎかた

### 途中に関数をはさむ

### 値を機械に渡す

### 機械が返す値を使用する関数

#### 導入

#### 関数message

#### 機械を返す機械

#### 機械app

#### 関数sayHello

#### 関数greeting

### まとめ

IOモナド
--------

### IO型

### 相互変換

### モナド関数

### 機械に値を渡す機械

### 出力の例

### 入力の例

### モナドは一方通行

### Monadクラス

### まとめ

まとめ
------
